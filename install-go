#!/bin/bash
set -e
GO="go1.8.3.linux-amd64.tar.gz"

if [ -e ~/go ]; then
    echo 'golang already installed. exit'
    exit 1
fi

echo $GO
wget https://storage.googleapis.com/golang/go1.8.3.linux-amd64.tar.gz

echo 'Check sha256 of go1.6.2.tar'
echo "1862f4c3d3907e59b04a757cfda0ea7aa9ef39274af99a784f5be843c80c6772 $GO" |  sha256sum --check -

tar xzf $GO
mv -v go ~/
mkdir ~/gos

echo 'Go install finished..'
echo 'Please copy bashrc into $HOME dir to make go work'
echo 'run: go get -u github.com/jstemmer/gotags to install gotags.'
echo 'run: go get -u github.com/rogpeppe/godef to install godef'

rm $GO
